<html>
  <head>
    <title>Codon Scrombler</title>
    <meta charset="utf-8">
    <script>
function go() {
    var dict = JSON.parse(document.getElementById("codondict").value);
    var input = document.getElementById("input").value.replace(/\s/g,"");
    input = input.toUpperCase();
    var out = "";
    for (var i=0; i < input.length ; i++) {
        if (input[i] < "0" || input[i] > "9") {
             if (!(input[i] in dict)) {
                  alert("The character \"" + input[i] + "\" at position " + i + " is invalid.");
                  return;
             }
             var choices = dict[input[i]];
             var chnum = Math.floor(Math.random() * choices.length);

             out += choices[chnum];

             document.getElementById("output").innerHTML = out;
        }
    }
}
    </script>
  </head>
  <body>
    <h1>Codon Scrombler</h1>
    <p>This webpage converts an amino acid sequence to a randomized DNA sequence that codes for that amino acid sequence.</p>
      <p>Codon Dictionary (edit if your organism does not use certain DNA sequences):</p>
      <textarea id="codondict" rows=24 cols=80 style="float: left; width: 75%;">
{
"A": ["GCT", "GCC", "GCA", "GCG"],                 
"R": ["CGT", "CGC", "CGA", "CGG", "AGA", "AGG"],   
"N": ["AAT", "AAC"],                               
"D": ["GAT", "GAC"],                               
"C": ["TGT", "TGC"],                               
"Q": ["CAA", "CAG"],                               
"E": ["GAA", "GAG"],                               
"G": ["GGT", "GGC", "GGA", "GGG"],                 
"H": ["CAT", "CAC"],                               
"I": ["ATT", "ATC", "ATA"],                        
"L": ["CTT", "CTC", "CTA", "CTG", "TTA", "TTG"],   
"K": ["AAA", "AAG"],                               
"M": ["ATG"],                                      
"F": ["TTT", "TTC"],                               
"P": ["CCT", "CCC", "CCA", "CCG"],                 
"S": ["TCT", "TCC", "TCA", "TCG", "AGT", "AGC"],   
"T": ["ACT", "ACC", "ACA", "ACG"],                 
"W": ["TGG"],                                      
"Y": ["TAT", "TAC"],                               
"V": ["GTT", "GTC", "GTA", "GTC"],                 
"*": ["TAA", "TGA", "TAG"]                         
}
      </textarea>
      <textarea rows=24 cols=80 style="float: left; width: 25%;">

Alanine (Ala)
Arginine (Arg)
Asparagine (Asn)
Aspartic acid (Asp)
Cysteine (Cys)
Glutamine (Gln)
Glutamic acid (Glu)
Glycine (Gly)
Histidine (His)
Isoleucine (Ile)
Leucine (Leu)
Lysine (Lys)
Methionine (Met)
Phenylalanine (Phe)
Proline (Pro)
Serine (Ser)
Threonine (Thr)
Tryptophan (Trp)
Tyrosine (Tyr)
Valine (Val)
Stop

      </textarea>
      <p>Example for yeast:</p>
      <pre>
{
"A": ["GCT", "GCC", "GCA"],                     
"R": ["CGT", "CGC", "CGA", "CGG", "AGA", "AGG"],
"N": ["AAT", "AAC"],                            
"D": ["GAT", "GAC"],                            
"C": ["TGT", "TGC"],                            
"Q": ["CAA", "CAG"],                            
"E": ["GAA", "GAG"],                            
"G": ["GGT", "GGC", "GGA"],              
"H": ["CAT", "CAC"],                            
"I": ["ATT", "ATC"],                     
"L": ["TTA", "TTG"],
"K": ["AAA", "AAG"],                            
"M": ["ATG"],                                   
"F": ["TTT", "TTC"],                            
"P": ["CCT", "CCC", "CCA"],              
"S": ["TCT", "TCC", "TCA"],
"T": ["ACT", "ACC", "ACA", "ACG"],              
"W": ["TGG"],                                   
"Y": ["TAT", "TAC"],                            
"V": ["GTT", "GTA"],              
"*": ["TAA", "TGA", "TAG"]                      
}
      </pre>
      <p>Input sequence:</p>
      <textarea id="input" rows=10 cols=80 placeholder="MAAKIFSILM LLALSACVLD ATIFPQYSQA PIAALLPPYL PSMTASVCEN PTLQPYRLQQ AIATSNLPLS PLLFQQSPAL SLVQSLVQTI RAQQLQQLVL PLINQVALAN LSPYSQQQQF LPFNQLSTLN LAAYLQQQLL PFSQLATAYS QQQQFLPFNQ LAALNPAAYL QQQILLPFGQ LATTNRASFL TQQQLLPFYQ QFSANPATLL QLQQLLPFVQ LALTNPAAFY QQHIIGGAIF *"></textarea>
      <button onclick="go();">Scromble</button>
      <p>Output sequence:</p>
      <p id="output"></p>
  </body>
</html>
